<!DOCTYPE html>
<html lang="en">
<head>
    <title>Spring Initializr</title>
    <link href="//fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="/css/spring.css"/>
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container-fluid">

    <div class="row">
        <div class="initializr-header">
            <div class="container">
                <h1>项目骨架生成</h1>
                <p>用最简单的方式帮助你生成一个项目骨架</p>
            </div>
        </div>
    </div>
    <form id="form" class="form-horizontal" action="/starter.zip" method="get" role="form">
        <input id="baseDir" name="baseDir" type="hidden" value="${artifactId.content}">
        <div class="row">
            <div class="col-sm-6">
                <h3>项目信息</h3>
                <div class="form-group">
                    <label for="groupId" class="col-md-3 control-label">${groupId.title}</label>
                    <div class="col-md-8">
                        <input id="groupId" class="form-control" type="text" value="${groupId.content}" name="groupId">
                    </div>
                </div>
                <div class="form-group">
                    <label for="artifactId" class="col-md-3 control-label">${artifactId.title}</label>
                    <div class="col-md-8">
                        <input id="artifactId" class="form-control" type="text" value="${artifactId.content}" name="artifactId">
                    </div>
                </div>
                <div class="form-group">
                    <label for="name" class="col-md-3 control-label">${name.title}</label>
                    <div class="col-md-8">
                        <input id="name" class="form-control" type="text" value="${name.content}" name="name">
                    </div>
                </div>
                <div class="form-group">
                    <label for="description" class="col-md-3 control-label">${description.title}</label>
                    <div class="col-md-8">
                        <input id="description" class="form-control" type="text" value="${description.content}" name="description">
                    </div>
                </div>
                <div class="form-group">
                    <label for="packageName" class="col-md-3 control-label">${packageName.title}</label>
                    <div class="col-md-8">
                        <input id="packageName" class="form-control" type="text" value="${packageName.content}" name="packageName">
                    </div>
                </div>
                <div class="form-group">
                    <label for="type" class="col-md-3 control-label">${types.title}</label>
                    <div class="col-md-8">
                        <select class="form-control" id="type" name="type">
                            <% types.content.each { %>
                            <option data-action="${it.action}" value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="packaging" class="col-md-3 control-label">${packagings.title}</label>
                    <div class="col-md-8">
                    <select class="form-control" id="packaging" name="packaging">
                        <% packagings.content.each { %>
                        <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                        <% } %>
                    </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="javaVersion" class="col-md-3 control-label">${javaVersions.title}</label>
                    <div class="col-md-8">
                        <select class="form-control" name="javaVersion" id="javaVersion">
                            <% javaVersions.content.each { %>
                            <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="language" class="col-md-3 control-label">${languages.title}</label>
                    <div class="col-md-8">
                        <select class="form-control" name="language" id="language">
                            <% languages.content.each { %>
                            <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="bootVersion" class="col-md-3 control-label">${bootVersions.title}</label>
                    <div class="col-md-8">
                        <select class="form-control" name="bootVersion" id="bootVersion">
                            <% bootVersions.content.each { %>
                            <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
            </div>
            <div id="dependencies" class="col-sm-6">
                <h3>${dependencies.title}</h3>
                <% dependencies.content.each { %>
                <div class="form-group col-xs-6">
                <h4>${it.name}</h4>
                    <% it.content.each { %>
                    <div class="checkbox" data-range="${it.versionRange}">
                        <label>
                            <input type="checkbox" name="style" value="${it.id}">
                            ${it.name}
                        </label>
                    </div><% } %>
                </div>
                <% } %>
            </div>
        </div>
        <div class="row">
            <p class="text-center">
                <button name="generate-project" type="submit" class="btn btn-lg btn-primary" role="button">
                    <span class="glyphicon glyphicon-download"></span> 生成项目
                </button>
            </p>
        </div>
        <div class="page-header top10">
            <h1>Spring CLI <small>为了你更便捷的开发，请安装它把。</small></h1>
        </div>
        <div class="row">
            <div class="col-sm-offset-1 col-sm-5">
                <h3>Spring CLI Zip</h3>
                <p>
                    <a href="/spring.zip" class="btn btn-lg btn-primary" role="button">
                        <span class="glyphicon glyphicon-download-alt"></span> 下载 Spring CLI Zip
                    </a>
                </p>
                <p>
                    Download the spring CLI as a zip distribution (unpack and run bin/spring on a command line).
                </p>
            </div>
            <div class="col-sm-5">
                <h3>Spring CLI Installer</h3>
                <p>
                    <a href="/install.sh" class="btn btn-lg btn-primary" role="button">
                        <span class="glyphicon glyphicon-download-alt"></span> 下载 Spring Installer
                    </a>
                </p>
                <p>通过命令安装(支持Linux, Mac or Cygwin).</p>
                <p>你能使用 <kbd class="curl">curl ${serviceUrl}/install.sh | sh</kbd>, 或者下载这个脚本安装.</p>
            </div>
        </div>
    </form>
</div>
<script src="/js/zepto.min.js"></script>
<script src="/js/start.js"></script>
<script>
    var refreshDependencies = function(versionRange) {
        var versions = new Versions();
        \$("#dependencies div.checkbox").forEach(function(item) {
            if(!\$(item).data('range') || versions.matchRange(\$(item).data('range'))(versionRange)) {
                \$(item).show();
            } else {
                \$(item).hide();
            }
        });
    };
    refreshDependencies(\$("#bootVersion").attr('value'));
    \$("#type").on('change', function() {\$("#form").attr('action', \$(this.options[this.selectedIndex]).data('action'))});
    \$("#artifactId").on('change', function() {\$("#baseDir").attr('value', this.value)});
    \$("#bootVersion").on("change", function(e){refreshDependencies(this.value);});
</script>
</body>
</html>
